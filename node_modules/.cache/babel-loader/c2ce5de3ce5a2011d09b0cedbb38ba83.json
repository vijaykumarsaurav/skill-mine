{"ast":null,"code":"var _jsxFileName = \"/Users/B0208058/Documents/my small ecommorce/ecommerce/src/components/searchAndBrowse/ProductDetails.js\";\nimport React, { Component } from 'react';\nimport HeaderNavbar from '../HeaderNavbar';\nimport UserService from '../service/UserService';\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Typography, Paper } from '@mui/material';\nimport TextField from '@mui/material/TextField';\nimport './ProductStyle.css';\nimport Button from '@mui/material/Button';\nimport Notify from '../utils/Notify';\nimport { resolveResponse } from \"../utils/ResponseHandler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass ProductDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addToCart = productDetails => {\n      let cartList = localStorage.getItem('cartList') ? JSON.parse(localStorage.getItem('cartList')) : [];\n      console.log(\"cartList\", cartList);\n      let isProductAlreadyAdded = cartList.filter(item => item.productId == productDetails.id);\n\n      if (isProductAlreadyAdded.length === 0) {\n        cartList.push({\n          productId: productDetails.id,\n          price: productDetails.price,\n          quantity: parseInt(this.state.quantity)\n        });\n      } else {\n        isProductAlreadyAdded[0].quantity = parseInt(isProductAlreadyAdded[0].quantity) + this.state.quantity;\n      }\n\n      let msg = `${isProductAlreadyAdded[0].quantity} of same product added`;\n      this.setState({\n        message: msg\n      }); //  Notify.showSuccess(msg);\n\n      localStorage.setItem('cartList', JSON.stringify(cartList));\n    };\n\n    this.quantityChange = e => {\n      if (e.target.value <= 0) this.setState({\n        quantity: 1\n      });else this.setState({\n        quantity: e.target.value\n      });\n    };\n\n    this.state = {\n      title: '',\n      productDetails: \"\",\n      waitingFlag: true,\n      quantity: 1,\n      message: \"\"\n    };\n  }\n\n  componentDidMount() {\n    let productId = window.location.href.split('?')[1] && window.location.href.split('?')[1].split('=')[1];\n    UserService.getProductDetails(productId).then(res => {\n      //   let data = resolveResponse(res); //common response handler\n      console.log(res.data);\n\n      if (res && res.data) {\n        this.setState({\n          title: res.data.title,\n          waitingFlag: false,\n          productDetails: res.data\n        });\n      }\n    });\n  }\n\n  render() {\n    let productDetails = this.state.productDetails;\n    console.log(\"productDetails\", productDetails);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), this.state.waitingFlag ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n        style: {\n          padding: \"25px\"\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 43\n      }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n        direction: \"row\",\n        container: true,\n        spacing: 5,\n        style: {\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          style: {\n            textAlign: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            style: {\n              textAlign: \"center\",\n              cursor: 'pointer',\n              padding: \"10px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              style: {\n                width: \"50%\",\n                height: \"400px\"\n              },\n              src: productDetails.image\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 106\n            }, this), productDetails.title]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          style: {\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"p\",\n            children: productDetails.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"p\",\n            children: [\"\\u20B9 \", productDetails.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 25\n          }, this), \"Ratings \", productDetails.rating && productDetails.rating.rate, \"* (\", productDetails.rating && productDetails.rating.count, \")\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            type: \"number\",\n            onChange: this.quantityChange,\n            value: this.state.quantity,\n            style: {\n              width: \"100px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 139\n          }, this), \" \", this.state.message, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 32\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            onClick: () => this.addToCart(productDetails),\n            children: \" Add To Cart \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 94\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default ProductDetails;","map":{"version":3,"sources":["/Users/B0208058/Documents/my small ecommorce/ecommerce/src/components/searchAndBrowse/ProductDetails.js"],"names":["React","Component","HeaderNavbar","UserService","Grid","CircularProgress","Typography","Paper","TextField","Button","Notify","resolveResponse","ProductDetails","constructor","props","addToCart","productDetails","cartList","localStorage","getItem","JSON","parse","console","log","isProductAlreadyAdded","filter","item","productId","id","length","push","price","quantity","parseInt","state","msg","setState","message","setItem","stringify","quantityChange","e","target","value","title","waitingFlag","componentDidMount","window","location","href","split","getProductDetails","then","res","data","render","padding","textAlign","cursor","width","height","image","rating","rate","count"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport HeaderNavbar from '../HeaderNavbar'\nimport UserService from '../service/UserService'\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Typography, Paper } from '@mui/material';\nimport TextField from '@mui/material/TextField';\nimport './ProductStyle.css';\nimport Button from '@mui/material/Button';\nimport Notify from '../utils/Notify'\n\nimport { resolveResponse } from \"../utils/ResponseHandler\";\nclass ProductDetails extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            title: '',\n            productDetails: \"\",\n            waitingFlag: true,\n            quantity: 1, \n            message: \"\"\n        }\n    }\n\n\n    componentDidMount() {\n        let productId = window.location.href.split('?')[1] && window.location.href.split('?')[1].split('=')[1];\n        UserService.getProductDetails(productId)\n            .then((res) => {\n                //   let data = resolveResponse(res); //common response handler\n\n                console.log(res.data);\n                if (res && res.data) {\n                    this.setState({\n                        title: res.data.title,\n                        waitingFlag: false,\n                        productDetails: res.data\n                    })\n                }\n            });\n\n    }\n\n    addToCart = (productDetails) => {\n       let cartList = localStorage.getItem('cartList') ? JSON.parse(localStorage.getItem('cartList')) : []; \n       console.log(\"cartList\",cartList);\n\n       let isProductAlreadyAdded = cartList.filter((item)=>item.productId == productDetails.id); \n       if(isProductAlreadyAdded.length === 0){\n        cartList.push({\n            productId: productDetails.id, \n            price: productDetails.price, \n            quantity: parseInt(this.state.quantity)  \n        })\n       }else{\n         isProductAlreadyAdded[0].quantity = parseInt(isProductAlreadyAdded[0].quantity) + this.state.quantity; \n       }\n       let msg = `${isProductAlreadyAdded[0].quantity} of same product added`; \n       this.setState({message : msg}); \n     //  Notify.showSuccess(msg);\n       localStorage.setItem('cartList', JSON.stringify(cartList)); \n    }\n\n    quantityChange = (e) => {\n        if (e.target.value <= 0)\n            this.setState({ quantity: 1 })\n        else\n            this.setState({ quantity: e.target.value })\n    }\n    render() {\n\n        let productDetails = this.state.productDetails;\n        console.log(\"productDetails\", productDetails)\n\n        return (\n            <React.Fragment>\n                <HeaderNavbar />\n\n                {this.state.waitingFlag ? <CircularProgress style={{ padding: \"25px\" }} /> : <Grid direction=\"row\" container spacing={5} style={{ padding: \"20px\" }}>\n\n\n                    <Grid item xs={12} sm={6} style={{ textAlign: \"center\" }}>\n                        <Paper style={{ textAlign: \"center\", cursor: 'pointer', padding: \"10px\" }} >\n                            <img style={{ width: \"50%\", height: \"400px\" }} src={productDetails.image} /> <br />\n                            {productDetails.title}\n                        </Paper>\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} style={{ textAlign: \"left\" }}>\n                        <Typography variant=\"h5\" component=\"p\" >\n                            {productDetails.title}\n                        </Typography>\n                        <br />\n                        <Typography variant=\"h5\" component=\"p\" >\n                            &#8377; {productDetails.price}\n                        </Typography>\n                        <br />\n                        Ratings {productDetails.rating && productDetails.rating.rate}* ({productDetails.rating && productDetails.rating.count})\n                        <br /> <br />\n                        <TextField type=\"number\" onChange={this.quantityChange} value={this.state.quantity} style={{ width: \"100px\" }} /> <br /> {this.state.message}\n                        <br /> <br />\n                        <Button variant=\"contained\" onClick={() => this.addToCart(productDetails)}> Add To Cart </Button>\n\n                    </Grid>\n\n                </Grid>}\n\n\n            </React.Fragment>\n        );\n    }\n}\n\nexport default ProductDetails;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/Users/B0208058/Documents/my small ecommorce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/B0208058/Documents/my small ecommorce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/B0208058/Documents/my small ecommorce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/B0208058/Documents/my small ecommorce/ecommerce/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import HeaderNavbar from'../HeaderNavbar';import UserService from'../service/UserService';import Grid from'@mui/material/Grid';import CircularProgress from'@mui/material/CircularProgress';import{Typography,Paper}from'@mui/material';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import AddIcon from'@mui/icons-material/Add';import RemoveIcon from'@mui/icons-material/Remove';import{resolveResponse}from\"../utils/ResponseHandler\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartDetails=/*#__PURE__*/function(_Component){_inherits(CartDetails,_Component);var _super=_createSuper(CartDetails);function CartDetails(props){var _this;_classCallCheck(this,CartDetails);_this=_super.call(this,props);_this.updateTotalPrice=function(){var sum=0;_this.state.cartList.forEach(function(element){sum+=element.quantity*element.price;});_this.setState({totalPrice:sum});};_this.handleClick=function(productId){console.log(productId);_this.props.history.push('/product-details/?id='+productId);};_this.capitalizeFirstLetter=function(string){return string.charAt(0).toUpperCase()+string.slice(1);};_this.updateQty=function(row,num){//row.quantity = row.quantity + num; \nvar tempList=_this.state.cartList;tempList.forEach(function(element){if(element.productId==row.productId){element.quantity=row.quantity+num;}});localStorage.setItem('cartList',JSON.stringify(tempList));_this.setState({cartList:tempList},function(){this.updateTotalPrice();});};_this.removeQty=function(row){var tempList=_this.state.cartList;var index='';tempList.forEach(function(element,i){if(element.productId==row.productId){index=i;return;}});tempList.splice(index,1);localStorage.setItem('cartList',JSON.stringify(tempList));_this.setState({cartList:tempList},function(){this.updateTotalPrice();});console.log(row);};_this.state={categoryName:'',quantity:0,cartList:localStorage.getItem('cartList')?JSON.parse(localStorage.getItem('cartList')):[],totalPrice:0};return _this;}_createClass(CartDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.updateTotalPrice();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(HeaderNavbar,{}),/*#__PURE__*/_jsxs(Grid,{direction:\"row\",container:true,spacing:5,style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:12,children:/*#__PURE__*/_jsxs(Typography,{variant:\"h5\",component:\"p\",children:[\"Cart(\",this.state.cartList.length,\")\"]})}),this.state.cartList&&this.state.cartList.map(function(row){return/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,children:/*#__PURE__*/_jsx(Paper,{children:/*#__PURE__*/_jsxs(Grid,{direction:\"row\",container:true,spacing:1,style:{padding:\"10px\"},children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(\"img\",{style:{width:\"100px\",height:\"100px\"},src:row.image})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:8,children:[row.title,\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \\u20B9 \",row.price*row.quantity,/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",onClick:function onClick(){return _this2.updateQty(row,1);},children:[\" \",/*#__PURE__*/_jsx(AddIcon,{}),\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\" Qty \",/*#__PURE__*/_jsxs(\"b\",{children:[\" \",row.quantity,\" \"]}),\" \"]}),/*#__PURE__*/_jsxs(Button,{variant:\"contained\",onClick:function onClick(){return _this2.updateQty(row,-1);},children:[\" \",/*#__PURE__*/_jsx(RemoveIcon,{}),\" \"]}),\"\\xA0\\xA0\",/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return _this2.removeQty(row);},children:\" Remove \"})]})]})})});}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:4,children:/*#__PURE__*/_jsx(Grid,{direction:\"row\",style:{padding:\"10px\"},children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:12,style:{justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"p\",children:\"PRICE DETAILS\"}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",component:\"p\",children:[\"Total (\",this.state.cartList.length,\"Item)   : \",this.state.totalPrice]}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"p\",children:\"Discount\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"p\",children:\"Delivery Charges\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"p\",children:/*#__PURE__*/_jsxs(\"b\",{children:[\"  Total Amount:  \",this.state.totalPrice,\" \"]})})]})})})]})]});}}]);return CartDetails;}(Component);export default CartDetails;","map":{"version":3,"sources":["/Users/B0208058/Documents/my small ecommorce/ecommerce/src/components/searchAndBrowse/CartList.js"],"names":["React","Component","HeaderNavbar","UserService","Grid","CircularProgress","Typography","Paper","Button","TextField","AddIcon","RemoveIcon","resolveResponse","CartDetails","props","updateTotalPrice","sum","state","cartList","forEach","element","quantity","price","setState","totalPrice","handleClick","productId","console","log","history","push","capitalizeFirstLetter","string","charAt","toUpperCase","slice","updateQty","row","num","tempList","localStorage","setItem","JSON","stringify","removeQty","index","i","splice","categoryName","getItem","parse","padding","length","map","width","height","image","title","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport HeaderNavbar from '../HeaderNavbar'\nimport UserService from '../service/UserService'\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Typography, Paper } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\n\nimport { resolveResponse } from \"../utils/ResponseHandler\";\nclass CartDetails extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            categoryName: '',\n            quantity:0,\n            cartList: localStorage.getItem('cartList') ? JSON.parse(localStorage.getItem('cartList')) : [],\n            totalPrice:0\n        }\n    }\n\n    updateTotalPrice =()=>{\n        let sum = 0; \n        this.state.cartList.forEach(element => {\n            sum += element.quantity * element.price; \n        });\n\n        this.setState({totalPrice : sum})\n    }\n\n    componentDidMount() {\n       \n        this.updateTotalPrice(); \n        \n    }\n\n    handleClick = (productId) => {\n        console.log(productId)\n        this.props.history.push('/product-details/?id=' + productId);\n    }\n\n    capitalizeFirstLetter = (string) => {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n    updateQty=(row, num)=>{\n         //row.quantity = row.quantity + num; \n        \n         let tempList = this.state.cartList; \n         tempList.forEach(element => {\n            if(element.productId == row.productId){\n                element.quantity = row.quantity + num; \n            }\n         });\n\n         localStorage.setItem('cartList', JSON.stringify(tempList)); \n         this.setState({cartList : tempList},function(){\n            this.updateTotalPrice(); \n         })\n    }\n    removeQty = (row) => {\n  \n        let tempList = this.state.cartList; \n        \n        let index =''; \n        tempList.forEach((element,i) => {\n           if(element.productId == row.productId){\n            index  = i\n            return\n           }\n        });\n        tempList.splice(index, 1);\n\n        localStorage.setItem('cartList', JSON.stringify(tempList)); \n        this.setState({cartList : tempList},function(){\n           this.updateTotalPrice(); \n        })\n       \n        console.log(row)\n\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <HeaderNavbar />\n\n                <Grid direction=\"row\" container spacing={5} style={{ padding: \"20px\" }}>\n\n                    <Grid item xs={12} sm={12} >\n                        <Typography variant=\"h5\" component=\"p\" >\n                            Cart({this.state.cartList.length})\n                        </Typography>\n                    </Grid>\n\n\n                    {this.state.cartList && this.state.cartList.map(row => (\n\n                        <Grid item xs={12} sm={8}>\n                            <Paper>\n                                <Grid direction=\"row\" container spacing={1} style={{ padding: \"10px\" }}>\n                                    <Grid item xs={12} sm={4} >\n                                        <img style={{ width: \"100px\", height: \"100px\" }} src={row.image} />\n                                    </Grid>\n\n                                    <Grid item xs={12} sm={8} >\n                                        {row.title} <br /> &#8377; {row.price * row.quantity}\n                                        <br /> <br />\n                                        <Button variant=\"contained\" onClick={()=>this.updateQty(row, 1)}> <AddIcon /> </Button>   \n                                        \n                                        <span> Qty <b> {row.quantity} </b> </span>\n                                    \n                                        <Button variant=\"contained\" onClick={()=>this.updateQty(row,-1)}> <RemoveIcon /> </Button> \n\n                                        &nbsp;&nbsp;\n                                        <Button  onClick={()=>this.removeQty(row)}> Remove </Button> \n                                    </Grid>\n                                </Grid>\n                            </Paper>\n                        </Grid>\n\n                    ))}\n\n                    <Grid item xs={12} sm={4}>\n                          \n                            <Grid direction=\"row\" style={{ padding: \"10px\" }}>\n\n                                    <Grid item xs={12} sm={12} style={{justifyContent:\"space-between\"}} >\n                                    <Typography variant=\"h6\" component=\"p\" >\n                                    PRICE DETAILS \n                                    </Typography>\n\n                                    <Typography variant=\"h6\" component=\"p\" >\n                                        Total ({this.state.cartList.length}Item)   : {this.state.totalPrice}\n                                    </Typography>\n\n                                    <Typography variant=\"h6\" component=\"p\" >\n                                    Discount\n                                    </Typography>\n                                    <Typography variant=\"h6\" component=\"p\" >\n                                    Delivery Charges\n\n                                    </Typography>\n\n                                    <Typography variant=\"h6\" component=\"p\" >\n                                    <b>  Total Amount:  {this.state.totalPrice} </b>\n\n                                    </Typography>\n\n                                \n\n                                    \n\n                                </Grid>\n\n                            </Grid>\n                    </Grid>\n\n                </Grid>\n\n            </React.Fragment>\n        );\n    }\n}\n\nexport default CartDetails;"]},"metadata":{},"sourceType":"module"}
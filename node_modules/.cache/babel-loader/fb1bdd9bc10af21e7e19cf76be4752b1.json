{"ast":null,"code":"var _jsxFileName = \"/Users/B0208058/Documents/my small ecommorce/ecommerce/src/components/searchAndBrowse/CartList.js\";\nimport React, { Component } from 'react';\nimport HeaderNavbar from '../HeaderNavbar';\nimport UserService from '../service/UserService';\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Typography, Paper } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\nimport { resolveResponse } from \"../utils/ResponseHandler\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CartDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.updateTotalPrice = () => {\n      let sum = 0;\n      this.state.cartList.forEach(element => {\n        sum += element.quantity * element.price;\n      });\n      this.setState({\n        totalPrice: sum\n      });\n    };\n\n    this.handleClick = productId => {\n      console.log(productId);\n      this.props.history.push('/product-details/?id=' + productId);\n    };\n\n    this.capitalizeFirstLetter = string => {\n      return string.charAt(0).toUpperCase() + string.slice(1);\n    };\n\n    this.updateQty = (row, num) => {\n      //row.quantity = row.quantity + num; \n      let tempList = this.state.cartList;\n      tempList.forEach(element => {\n        if (element.productId == row.productId) {\n          element.quantity = row.quantity + num;\n        }\n      });\n      localStorage.setItem('cartList', JSON.stringify(tempList));\n      this.setState({\n        cartList: tempList\n      }, function () {\n        this.updateTotalPrice();\n      });\n    };\n\n    this.removeQty = row => {\n      let tempList = this.state.cartList;\n      let index = '';\n      tempList.forEach((element, i) => {\n        if (element.productId == row.productId) {\n          index = i;\n          return;\n        }\n      });\n      tempList.splice(index, 1);\n      localStorage.setItem('cartList', JSON.stringify(tempList));\n      this.setState({\n        cartList: tempList\n      }, function () {\n        this.updateTotalPrice();\n      });\n      console.log(row);\n    };\n\n    this.state = {\n      categoryName: '',\n      quantity: 0,\n      cartList: localStorage.getItem('cartList') ? JSON.parse(localStorage.getItem('cartList')) : [],\n      totalPrice: 0\n    };\n  }\n\n  componentDidMount() {\n    this.updateTotalPrice();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(HeaderNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        direction: \"row\",\n        container: true,\n        spacing: 5,\n        style: {\n          padding: \"20px\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 12,\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h5\",\n            component: \"p\",\n            children: [\"Cart(\", this.state.cartList.length, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), this.state.cartList && this.state.cartList.map(row => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 8,\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              direction: \"row\",\n              container: true,\n              spacing: 1,\n              style: {\n                padding: \"10px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 4,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  style: {\n                    width: \"100px\",\n                    height: \"100px\"\n                  },\n                  src: row.image\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 104,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 8,\n                children: [row.title, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 53\n                }, this), \" \\u20B9 \", row.price * row.quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 41\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 48\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: () => this.updateQty(row, 1),\n                  children: [\" \", /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 109\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\" Qty \", /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: [\" \", row.quantity, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 112,\n                    columnNumber: 52\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: () => this.updateQty(row, -1),\n                  children: [\" \", /*#__PURE__*/_jsxDEV(RemoveIcon, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 110\n                  }, this), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 41\n                }, this), \"\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: () => this.removeQty(row),\n                  children: \" Remove \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 4,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            direction: \"row\",\n            style: {\n              padding: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 12,\n              sm: 12,\n              style: {\n                justifyContent: \"space-between\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"p\",\n                children: \"PRICE DETAILS\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"p\",\n                children: [\"Total (\", this.state.cartList.length, \"Item)   : \", this.state.totalPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"p\",\n                children: \"Discount\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"p\",\n                children: \"Delivery Charges\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h6\",\n                component: \"p\",\n                children: /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: [\"  Total Amount:  \", this.state.totalPrice, \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default CartDetails;","map":{"version":3,"sources":["/Users/B0208058/Documents/my small ecommorce/ecommerce/src/components/searchAndBrowse/CartList.js"],"names":["React","Component","HeaderNavbar","UserService","Grid","CircularProgress","Typography","Paper","Button","TextField","AddIcon","RemoveIcon","resolveResponse","CartDetails","constructor","props","updateTotalPrice","sum","state","cartList","forEach","element","quantity","price","setState","totalPrice","handleClick","productId","console","log","history","push","capitalizeFirstLetter","string","charAt","toUpperCase","slice","updateQty","row","num","tempList","localStorage","setItem","JSON","stringify","removeQty","index","i","splice","categoryName","getItem","parse","componentDidMount","render","padding","length","map","width","height","image","title","justifyContent"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport HeaderNavbar from '../HeaderNavbar'\nimport UserService from '../service/UserService'\nimport Grid from '@mui/material/Grid';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { Typography, Paper } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport AddIcon from '@mui/icons-material/Add';\nimport RemoveIcon from '@mui/icons-material/Remove';\n\nimport { resolveResponse } from \"../utils/ResponseHandler\";\nclass CartDetails extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            categoryName: '',\n            quantity: 0,\n            cartList: localStorage.getItem('cartList') ? JSON.parse(localStorage.getItem('cartList')) : [],\n            totalPrice: 0\n        }\n    }\n\n    updateTotalPrice = () => {\n        let sum = 0;\n        this.state.cartList.forEach(element => {\n            sum += element.quantity * element.price;\n        });\n\n        this.setState({ totalPrice: sum })\n    }\n\n    componentDidMount() {\n\n        this.updateTotalPrice();\n\n    }\n\n    handleClick = (productId) => {\n        console.log(productId)\n        this.props.history.push('/product-details/?id=' + productId);\n    }\n\n    capitalizeFirstLetter = (string) => {\n        return string.charAt(0).toUpperCase() + string.slice(1);\n    }\n    updateQty = (row, num) => {\n        //row.quantity = row.quantity + num; \n\n        let tempList = this.state.cartList;\n        tempList.forEach(element => {\n            if (element.productId == row.productId) {\n                element.quantity = row.quantity + num;\n            }\n        });\n\n        localStorage.setItem('cartList', JSON.stringify(tempList));\n        this.setState({ cartList: tempList }, function () {\n            this.updateTotalPrice();\n        })\n    }\n    removeQty = (row) => {\n\n        let tempList = this.state.cartList;\n\n        let index = '';\n        tempList.forEach((element, i) => {\n            if (element.productId == row.productId) {\n                index = i\n                return\n            }\n        });\n        tempList.splice(index, 1);\n\n        localStorage.setItem('cartList', JSON.stringify(tempList));\n        this.setState({ cartList: tempList }, function () {\n            this.updateTotalPrice();\n        })\n\n        console.log(row)\n\n    }\n    render() {\n        return (\n            <React.Fragment>\n                <HeaderNavbar />\n\n                <Grid direction=\"row\" container spacing={5} style={{ padding: \"20px\" }}>\n\n                    <Grid item xs={12} sm={12} >\n                        <Typography variant=\"h5\" component=\"p\" >\n                            Cart({this.state.cartList.length})\n                        </Typography>\n                    </Grid>\n\n\n                    {this.state.cartList && this.state.cartList.map(row => (\n\n                        <Grid item xs={12} sm={8}>\n                            <Paper>\n                                <Grid direction=\"row\" container spacing={1} style={{ padding: \"10px\" }}>\n                                    <Grid item xs={12} sm={4} >\n                                        <img style={{ width: \"100px\", height: \"100px\" }} src={row.image} />\n                                    </Grid>\n\n                                    <Grid item xs={12} sm={8} >\n                                        {row.title} <br /> &#8377; {row.price * row.quantity}\n                                        <br /> <br />\n                                        <Button variant=\"contained\" onClick={() => this.updateQty(row, 1)}> <AddIcon /> </Button>\n\n                                        <span> Qty <b> {row.quantity} </b> </span>\n\n                                        <Button variant=\"contained\" onClick={() => this.updateQty(row, -1)}> <RemoveIcon /> </Button>\n\n                                        &nbsp;&nbsp;\n                                        <Button onClick={() => this.removeQty(row)}> Remove </Button>\n                                    </Grid>\n                                </Grid>\n                            </Paper>\n                        </Grid>\n\n                    ))}\n\n                    <Grid item xs={12} sm={4}>\n\n                        <Grid direction=\"row\" style={{ padding: \"10px\" }}>\n\n                            <Grid item xs={12} sm={12} style={{ justifyContent: \"space-between\" }} >\n                                <Typography variant=\"h6\" component=\"p\" >\n                                    PRICE DETAILS\n                                </Typography>\n\n                                <Typography variant=\"h6\" component=\"p\" >\n                                    Total ({this.state.cartList.length}Item)   : {this.state.totalPrice}\n                                </Typography>\n\n                                <Typography variant=\"h6\" component=\"p\" >\n                                    Discount\n                                </Typography>\n                                <Typography variant=\"h6\" component=\"p\" >\n                                    Delivery Charges\n\n                                </Typography>\n\n                                <Typography variant=\"h6\" component=\"p\" >\n                                    <b>  Total Amount:  {this.state.totalPrice} </b>\n\n                                </Typography>\n\n\n\n\n\n                            </Grid>\n\n                        </Grid>\n                    </Grid>\n\n                </Grid>\n\n            </React.Fragment>\n        );\n    }\n}\n\nexport default CartDetails;"]},"metadata":{},"sourceType":"module"}